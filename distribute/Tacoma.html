<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Tacoma</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" type="text/css" media="screen" href="css/reset.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="css/tacoma.css" />
		<link rel="stylesheet" type="text/css" media="screen" href="css/climacons.css" />
		<link rel="stylesheet" href="https://use.typekit.net/vxp3uzh.css" />
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
			integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<section class="taco-main-container">
	<section class="border-slant-logo tac-mobile-logo">
	  		<img
  				src="http://www.traveltacoma.com/includes/public/assets/shell/logo-mobile.png"
  				alt="Taco Man img"
  				class="tac-home-icon"
  			/>
  </section>
	<section class="tac-desktop-logo">
        <img
          src="http://res.cloudinary.com/bandwango/image/upload/v1544479216/download-1_fwztmm.png"
  				alt="Taco Man img"
  				class="tac-home-icon tac-desktop-logo"
        />
  </section>
  <img class="desktop2 tac-big-logo" style='display: none;'src="http://www.traveltacoma.com/includes/public/assets/shell/logo.png" alt="yooo">
  <section
  id="tac-menu-container"
  style="display: flex; justify-content: space-evenly; width:100%;"
  >
          <section class='tac-flex border-slant-white desktop2'>
            <div class="tac-menu-option" href=''>MEETINGS</div>
            <div class="tac-menu-option" href=''>PARTNERS</div>
            <div class="tac-menu-option" href=''>MEDIA</div>
            <div class="tac-menu-option" href=''>TOURS</div>
          </section>
      <div class="border-slant desktop">
        <a href="http://www.traveltacoma.com//tripbuilder/" class="tac-flex tac-my-itinerary desktop">
          <img src="http://www.traveltacoma.com/includes/public/assets/tripbuilder/tripbuilder-icon.png"> 

        <div class="tac-my-itin-txt">
            <p class='mobile'>My Intinerary</p>(0)
          </div>
          </a>
      </div>
        <div class="desktop border-slant">
          <div id="testWeather" class='desktop tac-weather-desktop'>
          </div>
        </div>
        <div class="desktop tac-desktop-search-container " style='display: none;'>
            <section class="tac-search-container">
                <form
                  data-sv-searchform=""
                  action="http://www.traveltacoma.com/search/"
                  method="GET"
                  style="position:relative;"
                >
                  <input
                    data-sv-searchinput=""
                    name="q"
                    type="search"
                    class="tac-search-input tac-search-input-active"
                    autocapitalize="off"
                    placeholder="SEARCH…"
                    value=""
                  />
                  <i data-sv-searchbtn="" class="fa fa-inverse tac-search-button"></i>
                </form>
              </section>
          <!-- <div class="border-slant tac-glass-container">
            <i class="fa fa-search tac-glass " aria-hidden="true"></i>
          </div> -->
        </div>

				<div class="border-slant tac-glass-container">
					<i class="fa fa-search tac-glass " aria-hidden="true"></i>
        </div>
        <section class='mobile tac-mobile-burger' style="display: flex; align-items:center;">
            <div class="tac-burger">
              <br class="tac-line" id="tac-top-line" />
              <br class="tac-line" id="tac-mid-line" />
              <br class="tac-line" id="tac-bot-line" />
            </div>
              <div class="tac-menu-text">
                MENU
              </div>
            </section>
        <div class="border-slant-left desktop">
				<section style="display: flex; align-items:center">
					<div class="tac-burger">
						<br class="tac-line" id="tac-top-line" />
						<br class="tac-line" id="tac-mid-line" />
						<br class="tac-line" id="tac-bot-line" />
          </div>
            <div class='tac-menu-text' style="color:white; font-weight: 600; font-size: 20px;">
              MENU
            </div>
          </section>
        </div>
        <ul class='tac-desktop-sub-menu border-slant-sub-menu desktop2'>
            <ul  id='tac-regions-option'>
              <a href='http://www.traveltacoma.com/regions/'>REGIONS</a>
            </ul>
            <ul id='tac-regions-option'>
              <a href='http://www.traveltacoma.com/things-to-do/'>THINGS TO DO</a>
            </ul>
            <ul id='tac-regions-option'>
              <a href='http://www.traveltacoma.com/restaurants/'>RESTAURAUNTS</a>
            </ul>
            <ul id='tac-regions-option'>
              <a href='http://www.traveltacoma.com/hotels/'>HOTELS</a>
            </ul>
            <ul id='tac-regions-option'>
            <a href='http://www.traveltacoma.com/plan/'>	PLAN</a>
            </ul>
          </ul>
			</section>
		</section>

		<!-- First Layer Menu -->
		<section class="tac-first-layer-menu" style='display:none;'>
			<section class="tac-search-container">
				<form
					data-sv-searchform=""
					action="http://www.traveltacoma.com/search/"
					method="GET"
					style="position:relative;"
				>
					<input
						data-sv-searchinput=""
						name="q"
						type="search"
						class="tac-search-input"
						autocapitalize="off"
						placeholder="SEARCH…"
						value=""
					/>
					<i data-sv-searchbtn="" class="fa fa-inverse tac-search-button"></i>
				</form>
			</section>
			<ul style='padding: 0 0 7px 0;' >
				<ul class="tac-layer1-menu-item" id='tac-regions-option' style='background: white;'>
					<a href='http://www.traveltacoma.com/regions/'>REGIONS</a>
				</ul>
				<ul class="tac-layer1-menu-item">
					<a href='http://www.traveltacoma.com/things-to-do/'>THINGS TO DO</a>
				</ul>
				<ul class="tac-layer1-menu-item">
					<a href='http://www.traveltacoma.com/restaurants/'>RESTAURAUNTS</a>
				</ul>
				<ul class="tac-layer1-menu-item">
					<a href='http://www.traveltacoma.com/hotels/'>HOTELS</a>
				</ul>
				<ul class="tac-layer1-menu-item">
				<a href='http://www.traveltacoma.com/plan/'>	PLAN</a>
				</ul>
			</ul>
			<div class="tac-border" />
      <ul style='padding: 0 0 7px 0;background: white;margin: 0;'>
        <ul class="tac-layer1-menu-item layer1-mid-menu">
          <a <a href='http://www.traveltacoma.com/meetings/'>MEETINGS</a>
				</ul>
				<ul class="tac-layer1-menu-item layer1-mid-menu">
					<a <a href='http://www.traveltacoma.com/partners/'>PARTNERS</a>
				</ul>
				<ul class="tac-layer1-menu-item layer1-mid-menu">
					<a <a href='http://www.traveltacoma.com/media/'>MEDIA</a>
				</ul>
				<ul class="tac-layer1-menu-item layer1-mid-menu">
					<a <a href='http://www.traveltacoma.com/tours/'>TOURS</a>
				</ul>
			</ul>
			<div class="tac-border" />
			<ul style='padding: 0 0 7px 0; padding-left: 0; background: white; margin-bottom: 0;'>
				<ul class="tac-layer1-menu-item layer1-mid-menu">
					<a <a href='http://www.traveltacoma.com/about/'>ABOUT</a>
				</ul>
				<ul class="tac-layer1-menu-item layer1-mid-menu">
					<a <a href='http://www.traveltacoma.com/contact/'>CONTACT</a>
				</ul>
				<li class="tac-layer1-menu-item layer1-mid-menu"><a <a href='http://www.traveltacoma.com/privacy-policy/'>PRIVACY POLICY</a></li>
			</ul>
      <section class="tac-search-container">
        <a href="http://www.traveltacoma.com//tripbuilder/" class="tac-flex tac-my-itinerary">
          <img src="http://www.traveltacoma.com//includes/public/assets/tripbuilder/tripbuilder-icon.png"> 
          <div class="tac-my-itin-txt">
            My Intinerary (0)
          </div>
        </a>
      </section>
      <section>
        <div id="tac-mobile-weather"></div>
      </section>
    </section>
    <!-- END FIRST LAYER↑ -->
    <!-- REGIONS MENU 1rst layer -->
    
  <section id='tac-regions-menu' style='display: none;'>
      <section class="tac-search-container">
  <div class="tac-basic-menu-item" style='color: white; padding-left: 0;'>BACK</div>
      </section>
      <ul style='font-family: calluna-sans, sans-serif; background: white;'>
        <li class="tac-basic-menu-item">regions</li>
        <li class="tac-basic-menu-item">mount raineer</li>
        <ul class="tac-layer1-menu-item">Tacoma</ul>
        <li class="tac-basic-menu-item">lakewood</li>
        <li class="tac-basic-menu-item">puyallup</li>
        <li class="tac-basic-menu-item">fife</li>
        <li class="tac-basic-menu-item">gig harbor</li>
        <li class="tac-basic-menu-item">sumner</li>
        <li class="tac-basic-menu-item">dupont</li>
        <li class="tac-basic-menu-item">small communities</li>
      </ul>
  </section>

		<!-- JS -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script>
     var redesignScreen = function () {
          var width = $(window).width()
          if(width < 1111) {
          $("#tac-menu-container").click(function () {
            $("#tac-top-line").toggleClass("tac-top-line")
            $("#tac-mid-line").toggleClass("tac-mid-line")
            $("#tac-bot-line").toggleClass("tac-bot-line")
          })
          // MAIN MENU CLICK
          $("#tac-menu-container").click(function () {
            $('.tac-first-layer-menu').toggle({ opacity: "toggle" }, 200);
          });
          }
          if(width >= 1200) {
            $('.tac-glass-container').on('click',function() {
           console.log('yo mannnn')
           $('.tac-desktop-search-container').toggle()
           $('.tac-glass-container').toggleClass('desktop-search-container-open')
           $('.border-slant:nth-of-type(4):before').removeClass()
         })
          }

     }
      $(document).ready(function () {
        window.onresize = redesignScreen;

// calling redesignScreen initially
redesignScreen();
        })
          var Weather = function (options) {
            let _queryUri, _unit, _lat, _lnt
            _lnt = options.lnt
            _lat = options.lat
            _unit = options.unit ? options.unit : "c"
            _queryUri = `https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where u='${_unit}' AND woeid in (SELECT woeid FROM geo.places WHERE text="(${_lat},${_lnt})")&format=json`
            return $.ajax(_queryUri).then(res => {
              if (res.status >= 400) {
                throw new Error("Bad response from server")
              }
              return res.query.results
                ? res.query.results.channel.item.condition
                : { code: "NA", temp: "NA" }
            })
          }
          $("#testWeather").append(
            Weather({ lat: 47.1185, lnt: -122.5633, unit: "f" }).then(function (
              res
            ) {
              console.log('this is my response', res)
              $("#testWeather").append(
                $(
                  `<div class="tac-weather">
          <i class="climacon i${
                  res.code
                  }"></i>
          <span class="tac-weather"><b>${
                  res.temp
                  }</b><sup>°</sup>
          </span>
          <span class="tac-weather tac-weather-text">${res.text}</span>
          </div>`
                )
              )
            })
          )

                  $("#tac-mobile-weather").append(
            Weather({ lat: 47.1185, lnt: -122.5633, unit: "f" }).then(function (
              res
            ) {
              console.log('this is my response', res)
              $("#tac-mobile-weather").append(
                $(
                  `<div class="tac-weather">
          <i class="climacon i${
                  res.code
                  }"></i>
          <span class="tac-weather"><b>${
                  res.temp
                  }</b><div>°</div>
          </span>
          <span class="tac-weather tac-weather-text">${res.text}</span>
          </div>`
                )
              )
            })
          )

		</script>
	</body>
</html>
