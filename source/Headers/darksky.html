<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>dark sky</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	
<div id="Weather"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script>

	$(document).ready(function() { 
		  function Weather(options) {
		  let lon = options.lon
		  let lat = options.lat
		  let city = options.city
		  let yahoo = `https://weather-ydn-yql.media.yahoo.com/forecastrss?location=sunnyvale`
		//   let salturl = `https://www.visitsaltlake.com/plugins/core/svapi/?service=weatherv2&endpoint=latlng&serviceArgs=%7B%22lat%22%3A40.7762691%2C%22lng%22%3A-112.2006695%2C%22unit%22%3A%22f%22%7D`
		//   let darkurl = `https://api.darksky.net/forecast/bb542fff395b9bc5d3402e2512781d1c/37.8267,-122.4233`
		//   let url = `https://cors.io/?http://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=Imperial&APPID=c7601ff83777c3708fa1e5f981963ac5`

		   $.ajax({	url: yahoo,
					dataType: 'jsonp',
					xhrFields: {
			  			withCredentials: true
		   		}}).done(function(res) {
			   		console.log('res',res)
				$("#Weather").html(
               		$(`<div class="Weather" style="display: flex; align-items: center;">
         					<img style='width: 40px; display: flex; align-items: center; margin-right: 5px;'src="http://openweathermap.org/img/w/${res.weather[0].icon}.png" ></img>
          				<span class="Weather" style="display: flex; align-items: center;">
          					<div>${ res.main.temp }</div>
          					<div>${ ~~(res.main.temp * 9/5 - 459.67) }</div>
        					<div>Â°</div>
          				</span>
         			</div>`
                )
              )
		   }).fail(console.log)
		  }

		 Weather({ lat: 40.7608, lon: -111.8910 })

		 })
</script>
	

</body>
</html>